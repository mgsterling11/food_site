<div class='container'>
<div class='page-view-container'>
<h1 class='recipe-name-js'><%= @recipe.name %></h1>
<%= form_for @recipe, html: {class: 'edit-recipe-js hide'} do |f| %>
  <% f.text_field :name %>
<% end %>

<% if current_user.class == User %>
  <div class='favorites-js'>
  <%= render partial: 'favorites/favorite', locals: {recipe: @recipe, user: current_user} %>
  </div>
<% end %>

<h3><%= @recipe_view_object.list %></h3>
<h4><%= @recipe_view_object.created_by %></h4>
<%= image_tag(@recipe_view_object.image_url, style: "width:304px;height:228px", alt: @recipe_view_object.image_alt)%>

<div>
<%= form_for Proportion.new, html: {class: 'add-proportion-from-show-js'}, remote: true do |f| %>
  <%= f.hidden_field :recipe_id, value: @recipe.id %>
    Quantity: <%= f.text_field :quantity %>
  <%= f.fields_for :unit do |field| %>
    Unit: <%= field.text_field :name %>
  <% end %>
  <%= f.fields_for :ingredient do |field| %>
    Ingredient: <%= field.text_field :name %>
  <% end %>
  <%= f.submit "Add Ingredient" %>
<% end %>
</div>
<div class='proportion-show-partial-js'><%= render partial: 'proportions_show', locals: {proportions: @proportions} %></div>
<div><%= render partial: 'steps_show', locals: {steps: @steps} %></div>
</div>
</div>


<% if @recipe.user%>
  <% if current_user.id == @recipe.user.id %> 
    <%= button_to "Delete recipe", recipe_path(recipe: @recipe), method: :delete, data: {confirm: "Are you sure?"}%>
  <% end %>
<% end %>
